---
typora-copy-images-to: upload
---

# Kotlin

[TOC]



### 2.å¤åˆç¬¦å·( '?.' '?:' '!!' 'as?' '?' )



#### 2.1ã€ ?.å®‰å…¨è°ƒç”¨ç¬¦

![img](https://img-blog.csdn.net/20180525102820532?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xja2o2ODY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 2.2ã€ ?:

![img](https://img-blog.csdn.net/20180525102809224?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xja2o2ODY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 2.3ã€ as?

![img](https://img-blog.csdn.net/20180525102830720?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xja2o2ODY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 2.4ã€ !!

![img](https://img-blog.csdn.net/2018052510284732?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xja2o2ODY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 2.5ã€ ï¼Ÿ

![img](https://img-blog.csdn.net/20180525110440446?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xja2o2ODY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)





### 1. å˜é‡



#### 1.1 å˜é‡çš„å£°æ˜ä¸èµ‹å€¼

```kotlin
ğŸï¸
var v: View
```

**æ³¨æ„ç‚¹ï¼š**

- ä½¿ç”¨å…³é”®å­—`var`å£°æ˜å˜é‡
- å˜é‡ååœ¨å‰ï¼Œç±»å‹åœ¨åï¼Œä¸­é—´ä»¥`:`åˆ†éš”
- è¯­å¥ç»“å°¾ä¸éœ€åˆ†å·ï¼ˆ`;`ï¼‰

ä½†ä¸Šè¿°æ­¤ç§å†™æ³•ä¼šè¢«`IDE`æŠ¥é”™ï¼š



è¿™æ˜¯ç”±äºæœªå¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå¿…é¡»å¾—ç»™å®ƒèµ‹å€¼æˆ–è€…å£°æ˜ä¸º`abstract`ï¼Œæ—¢ç„¶è¿™æ ·å°±ç»™å®ƒèµ‹ç©ºå€¼nullï¼š

```kotlin
ğŸï¸
class Sample {
    var v: View = null
    // ğŸ‘†è¿™æ ·å†™ IDE ä»ç„¶ä¼šæŠ¥é”™ï¼ŒNull can not be a value of a non-null type View
}
```

å¯ä»ç„¶æŠ¥é”™ï¼Œè¿™æ˜¯ç”±äºKotlin çš„ç©ºå®‰å…¨è®¾è®¡ã€‚



#### 1.2 Kotlin çš„ç©ºå®‰å…¨è®¾è®¡

åœ¨ Kotlin é‡Œé¢ï¼Œæ‰€æœ‰çš„å˜é‡é»˜è®¤éƒ½æ˜¯ä¸å…è®¸ä¸ºç©ºçš„ï¼Œå¯¹äºä¸€äº›å¯ä»¥ä¸ºç©ºå€¼çš„å˜é‡ï¼Œä½ å¯ä»¥åœ¨ç±»å‹å³è¾¹åŠ ä¸€ä¸ª `?` å·ï¼Œè§£é™¤å®ƒçš„éç©ºé™åˆ¶ï¼š

```kotlin
ğŸï¸
class User {
    var name: String? = null
}
```

åŠ äº†é—®å·ä¹‹åï¼Œä¸€ä¸ª Kotlin å˜é‡å°±åƒ Java å˜é‡ä¸€æ ·æ²¡æœ‰éç©ºçš„é™åˆ¶ï¼Œè‡ªç”±è‡ªåœ¨äº†ã€‚è¿™ç§ç±»å‹ä¹‹ååŠ  `?` çš„å†™æ³•ï¼Œåœ¨ Kotlin é‡Œå«**å¯ç©ºç±»å‹**ã€‚

ç”±äºå¯¹ç©ºå¼•ç”¨çš„è°ƒç”¨ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œæ‰€ä»¥ Kotlin åœ¨å¯ç©ºå˜é‡ç›´æ¥è°ƒç”¨çš„æ—¶å€™ IDE ä¼šæŠ¥é”™ï¼š

```kotlin
ğŸï¸
var view: View? = null
view.setBackgroundColor(Color.RED)
// ğŸ‘†è¿™æ ·å†™ä¼šæŠ¥é”™ï¼ŒOnly safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?
```

ã€Œå¯èƒ½ä¸ºç©ºã€çš„å˜é‡ï¼ŒKotlin ä¸å…è®¸ç”¨ï¼Œå³ä½¿åœ¨ç”¨ä¹‹å‰è¿›è¡Œéç©ºåˆ¤æ–­ä¹Ÿä¸èƒ½ä¿è¯å¤šçº¿ç¨‹æƒ…å†µä¸‹å®ƒéç©ºï¼Œé‚£ä¹ˆ Kotlin é‡Œæ˜¯è¿™ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿå®ƒç”¨çš„ä¸æ˜¯ `.` è€Œæ˜¯ `?.`ï¼š

```kotlin
ğŸï¸
view?.setBackgroundColor(Color.RED)
```

ä¸Šé¢å†™æ³•åŒæ ·ä¼šå¯¹å˜é‡åšä¸€æ¬¡éç©ºç¡®è®¤ä¹‹åå†è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ˜¯ Kotlin çš„å†™æ³•ï¼Œå¹¶ä¸”å®ƒå¯ä»¥åšåˆ°çº¿ç¨‹å®‰å…¨ï¼Œå› æ­¤è¿™ç§å†™æ³•å«åšã€Œ**safe call**ã€ã€‚

å¦å¤–è¿˜æœ‰ä¸€ç§åŒæ„Ÿå¹å·çš„ç”¨æ³•ï¼š

```kotlin
ğŸï¸
view!!.setBackgroundColor(Color.RED)
```

å®ƒä¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä¿è¯è¿™é‡Œçš„ view ä¸€å®šæ˜¯éç©ºçš„ï¼Œç¼–è¯‘å™¨ä½ ä¸è¦å¸®æˆ‘åšæ£€æŸ¥äº†ï¼Œæœ‰ä»€ä¹ˆåæœæˆ‘è‡ªå·±æ‰¿æ‹…ã€‚è¿™ç§è°ƒç”¨ä¸ºéç©ºæ–­è¨€ã€Œ**non-null asserted call**ã€ï¼Œå®é™…ä¸Šå’Œ Java æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œæ— æ³•äº«å— Kotlin çš„ç©ºå®‰å…¨è®¾è®¡å¸¦æ¥çš„å¥½å¤„ï¼ˆåœ¨ç¼–è¯‘æ—¶åšæ£€æŸ¥ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶æŠ›å¼‚å¸¸ï¼‰ã€‚

ä»¥ä¸Šå°±æ˜¯ Kotlin çš„ç©ºå®‰å…¨è®¾è®¡ã€‚



#### 1.3 å»¶è¿Ÿåˆå§‹åŒ–

æœ‰äº›æ—¶å€™æˆ‘ä»¬å¾ˆæƒ³å‘Šè¯‰ç¼–è¯‘å™¨ã€Œæˆ‘å¾ˆç¡®å®šæˆ‘ç”¨çš„æ—¶å€™ç»å¯¹ä¸ä¸ºç©ºï¼Œä½†ç¬¬ä¸€æ—¶é—´æˆ‘æ²¡æ³•ç»™å®ƒèµ‹å€¼ã€ï¼ŒKotlin ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé€‰é¡¹ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼š

```kotlin
ğŸï¸
lateinit var view: View
```

è¿™ä¸ª `lateinit` çš„æ„æ€æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘æ²¡æ³•ç¬¬ä¸€æ—¶é—´å°±åˆå§‹åŒ–ï¼Œä½†æˆ‘è‚¯å®šä¼šåœ¨ä½¿ç”¨å®ƒä¹‹å‰å®Œæˆåˆå§‹åŒ–çš„ã€‚

å®ƒçš„ä½œç”¨å°±æ˜¯è®© IDE ä¸è¦å¯¹è¿™ä¸ªå˜é‡æ£€æŸ¥åˆå§‹åŒ–å’ŒæŠ¥é”™ã€‚æ¢å¥è¯è¯´ï¼ŒåŠ äº†è¿™ä¸ª `lateinit` å…³é”®å­—ï¼Œè¿™ä¸ªå˜é‡çš„åˆå§‹åŒ–å°±å…¨é ä½ è‡ªå·±äº†ï¼Œç¼–è¯‘å™¨ä¸å¸®ä½ æ£€æŸ¥äº†ã€‚



#### 1.4 ç±»å‹æ¨æ–­

Kotlin æœ‰ä¸ªå¾ˆæ–¹ä¾¿çš„åœ°æ–¹æ˜¯ï¼Œå¦‚æœä½ åœ¨å£°æ˜çš„æ—¶å€™å°±èµ‹å€¼ï¼Œé‚£ä¸å†™å˜é‡ç±»å‹ä¹Ÿè¡Œï¼š

```kotlin
ğŸï¸
var name: String = "Mike"
ğŸ‘‡
var name = "Mike"
```

è¿™ä¸ªç‰¹æ€§å«åšã€Œç±»å‹æ¨æ–­ã€ï¼Œå®ƒè·ŸåŠ¨æ€ç±»å‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ— æ³•åœ¨å˜é‡åˆå§‹åŒ–åèµ‹å€¼å…¶ä»–ç±»å‹å¯¹è±¡ï¼ˆå¦‚ï¼šå…ˆèµ‹å€¼å­—ç¬¦ä¸²å†èµ‹å€¼æ•°å­—çš„æ–¹å¼åœ¨ Groovy é‡Œæ˜¯å¯ä»¥çš„ï¼‰ï¼Œå› æ­¤ï¼ŒKotlinæ˜¯ä¸€é—¨é™æ€ç¼–è¯‘å‹è¯­è¨€ã€‚



#### 1.5 val å’Œ var

å£°æ˜å˜é‡çš„æ–¹å¼ä¹Ÿä¸æ­¢ var ä¸€ç§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ valï¼š

```kotlin
ğŸï¸
val size = 18
```

val æ˜¯ Kotlin åœ¨ Java çš„ã€Œå˜é‡ã€ç±»å‹ä¹‹å¤–ï¼Œåˆå¢åŠ çš„ä¸€ç§å˜é‡ç±»å‹ï¼šåªè¯»å˜é‡ã€‚å®ƒåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œä¸èƒ½ä¿®æ”¹ã€‚è€Œ var æ˜¯ä¸€ç§å¯è¯»å¯å†™å˜é‡ã€‚

> var æ˜¯ variable çš„ç¼©å†™ï¼Œval æ˜¯ value çš„ç¼©å†™ã€‚



------



### 2. å‡½æ•°



#### 2.1 å‡½æ•°çš„å£°æ˜

```kotlin
ğŸï¸
ğŸ‘‡                      ğŸ‘‡
fun cook(name: String): Food {
    ...
}
```

- ä»¥ fun å…³é”®å­—å¼€å¤´

- è¿”å›å€¼å†™åœ¨äº†å‡½æ•°å’Œå‚æ•°åé¢ï¼Œè‹¥è¿”å›å€¼ä¸ºç©ºï¼Œä½¿ç”¨`Unit`ï¼Œå¹¶ä¸”å¯ä»¥çœç•¥ï¼š

    ```kotlin
    ğŸï¸
                ğŸ‘‡
    fun main(): Unit {}
    // Unit è¿”å›ç±»å‹å¯ä»¥çœç•¥
    fun main() {}
    ```

- å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥æœ‰å¯ç©ºçš„æ§åˆ¶ï¼Œæ ¹æ®å‰é¢è¯´çš„ç©ºå®‰å…¨è®¾è®¡ï¼Œåœ¨ä¼ é€’æ—¶éœ€è¦æ³¨æ„ï¼š

    ```kotlin
    ğŸï¸
    // ğŸ‘‡å¯ç©ºå˜é‡ä¼ ç»™ä¸å¯ç©ºå‚æ•°ï¼ŒæŠ¥é”™
    var myName : String? = "rengwuxian"
    fun cook(name: String) : Food {}
    cook(myName)
      
    // ğŸ‘‡å¯ç©ºå˜é‡ä¼ ç»™å¯ç©ºå‚æ•°ï¼Œæ­£å¸¸è¿è¡Œ
    var myName : String? = "rengwuxian"
    fun cook(name: String?) : Food {}
    cook(myName)
    
    // ğŸ‘‡ä¸å¯ç©ºå˜é‡ä¼ ç»™ä¸å¯ç©ºå‚æ•°ï¼Œæ­£å¸¸è¿è¡Œ
    var myName : String = "rengwuxian"
    fun cook(name: String) : Food {}
    cook(myName)
    ```



#### 2.2 å±æ€§çš„ getter/setter å‡½æ•°

åœ¨ Java é‡Œé¢çš„ field ç»å¸¸ä¼šå¸¦æœ‰ getter/setter å‡½æ•°ï¼Œåœ¨ Kotlin é‡Œï¼Œè¿™ç§ getter / setter æ˜¯æ€ä¹ˆè¿ä½œçš„å‘¢ï¼Ÿ

```kotlin
ğŸï¸
class User {
    var name = "Mike"
    fun run() {
        name = "Mary"
        // ğŸ‘†çš„å†™æ³•å®é™…ä¸Šæ˜¯ğŸ‘‡è¿™ä¹ˆè°ƒç”¨çš„
        // setName("Mary")
        // å»ºè®®è‡ªå·±è¯•è¯•ï¼ŒIDE çš„ä»£ç è¡¥å…¨åŠŸèƒ½ä¼šåœ¨ä½ æ‰“å‡º setn çš„æ—¶å€™ç›´æ¥æç¤º name è€Œä¸æ˜¯ setName
        
        println(name)
        // ğŸ‘†çš„å†™æ³•å®é™…ä¸Šæ˜¯ğŸ‘‡è¿™ä¹ˆè°ƒç”¨çš„
        // print(getName())
        // IDE çš„ä»£ç è¡¥å…¨åŠŸèƒ½ä¼šåœ¨ä½ æ‰“å‡º getn çš„æ—¶å€™ç›´æ¥æç¤º name è€Œä¸æ˜¯ getName
    }
}
```

é‚£ä¹ˆè‹¥æƒ³è‡ªå®šä¹‰ getter/setter å‡½æ•°åˆè¯¥æ€ä¹ˆåšåˆ°å‘¢ï¼Ÿ

```kotlin
ğŸï¸
class User {
    var name = "Mike"
        ğŸ‘‡
        get() {
            return field + " nb"
        }
        ğŸ‘‡   ğŸ‘‡ 
        set(value) {
            field = "Cute " + value
        }
}
```

ä»¥ä¸Šå°±å®ç°äº† getter/setter å‡½æ•°çš„è‡ªå®šä¹‰ï¼Œä½†æ ¼å¼ä¸Šå’Œ Java æœ‰ä¸€äº›åŒºåˆ«ï¼š

- getter / setter å‡½æ•°æœ‰äº†ä¸“é—¨çš„å…³é”®å­— get å’Œ set

- getter / setter å‡½æ•°ä½äº var æ‰€å£°æ˜çš„å˜é‡ä¸‹é¢

- setter å‡½æ•°å‚æ•°æ˜¯ value

    

å‰é¢è®²è¿‡ val æ˜¯åªè¯»å˜é‡ï¼Œåªè¯»çš„æ„æ€å°±æ˜¯è¯´ val å£°æ˜çš„å˜é‡ä¸èƒ½è¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½è°ƒç”¨ setter å‡½æ•°ï¼Œå› æ­¤ï¼Œval å£°æ˜çš„å˜é‡æ˜¯ä¸èƒ½é‡å†™ setter å‡½æ•°çš„ï¼Œä½†å®ƒå¯ä»¥é‡å†™ getter å‡½æ•°ï¼š

```kotlin
ğŸï¸
val name = "Mike"
    get() {
        return field + " nb"
    }
```

è¿™å°±è¯´æ˜==val æ‰€å£°æ˜çš„åªè¯»å˜é‡ï¼Œåœ¨å–å€¼çš„æ—¶å€™ä»ç„¶å¯èƒ½è¢«ä¿®æ”¹==ï¼Œè¿™ä¹Ÿæ˜¯å’Œ Java é‡Œçš„ final çš„ä¸åŒä¹‹å¤„ã€‚



------



### 3. ç±»å‹



#### 3.1 åŸºæœ¬ç±»å‹

åœ¨ Kotlin ä¸­ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼ŒKotlin ä¸­ä½¿ç”¨çš„åŸºæœ¬ç±»å‹æœ‰ï¼šæ•°å­—ã€å­—ç¬¦ã€å¸ƒå°”å€¼ã€æ•°ç»„ä¸å­—ç¬¦ä¸²ã€‚

```kotlin
ğŸï¸
var number: Int = 1 // ğŸ‘ˆè¿˜æœ‰ Double Float Long Short Byte éƒ½ç±»ä¼¼
var c: Char = 'c'
var b: Boolean = true
var array: IntArray = intArrayOf(1, 2) // ğŸ‘ˆç±»ä¼¼çš„è¿˜æœ‰ FloatArray DoubleArray CharArray ç­‰ï¼ŒintArrayOf æ˜¯ Kotlin çš„ built-in å‡½æ•°
var str: String = "string"
```

è¿™é‡Œæœ‰ä¸¤ä¸ªåœ°æ–¹å’Œ Java ä¸å¤ªä¸€æ ·ï¼š

- Kotlin é‡Œçš„ Int å’Œ Java é‡Œçš„ int ä»¥åŠ Integer ä¸åŒï¼Œä¸»è¦æ˜¯åœ¨è£…ç®±æ–¹é¢ä¸åŒã€‚

    Java é‡Œçš„ int æ˜¯ unbox çš„ï¼Œè€Œ Integer æ˜¯ box çš„ï¼š

    ```java
    â˜•ï¸
    int a = 1;
    Integer b = 2; // ğŸ‘ˆä¼šè¢«è‡ªåŠ¨è£…ç®± autoboxing
    ```

    Kotlin é‡Œï¼ŒInt æ˜¯å¦è£…ç®±æ ¹æ®åœºåˆæ¥å®šï¼š

    ```kotlin
    ğŸï¸
    var a: Int = 1 // unbox
    var b: Int? = 2 // box
    var list: List<Int> = listOf(1, 2) // box
    ```

    Kotlin åœ¨è¯­è¨€å±‚é¢ç®€åŒ–äº† Java ä¸­çš„ int å’Œ Integerï¼Œä½†æ˜¯æˆ‘ä»¬å¯¹æ˜¯å¦è£…ç®±çš„åœºæ™¯è¿˜æ˜¯è¦æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå› ä¸ºè¿™ä¸ªç‰µæ¶‰åˆ°ç¨‹åºè¿è¡Œæ—¶çš„æ€§èƒ½å¼€é”€ã€‚

    ==**å› æ­¤åœ¨æ—¥å¸¸çš„ä½¿ç”¨ä¸­ï¼Œå¯¹äº Int è¿™æ ·çš„åŸºæœ¬ç±»å‹ï¼Œå°½é‡ç”¨ä¸å¯ç©ºå˜é‡**==ã€‚

- Java ä¸­çš„æ•°ç»„å’Œ Kotlin ä¸­çš„æ•°ç»„çš„å†™æ³•ä¹Ÿæœ‰åŒºåˆ«ï¼š

    ```java
    â˜•ï¸
    int[] array = new int[] {1, 2};
    ```

    è€Œåœ¨ Kotlin é‡Œï¼Œä¸Šé¢çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š

    ```kotlin
    ğŸï¸
    var array: IntArray = intArrayOf(1, 2)
    // ğŸ‘†è¿™ç§ä¹Ÿæ˜¯ unbox çš„
    ```

ç®€å•æ¥è¯´ï¼ŒåŸå…ˆåœ¨ Java é‡Œçš„åŸºæœ¬ç±»å‹ï¼Œç±»æ¯”åˆ° Kotlin é‡Œé¢ï¼Œæ¡ä»¶æ»¡è¶³å¦‚ä¸‹ä¹‹ä¸€å°±ä¸è£…ç®±ï¼š

1. ä¸å¯ç©ºç±»å‹ã€‚
2. ä½¿ç”¨ IntArrayã€FloatArray ç­‰ä¸“é—¨çš„åŸºæœ¬ç±»å‹æ•°ç»„ã€‚



#### 3.2 ç±»å’Œå¯¹è±¡

ç°åœ¨å¯ä»¥æ¥çœ‹çœ‹æˆ‘ä»¬çš„è€æœ‹å‹ `MainActivity` äº†ï¼Œé‡æ–°è®¤è¯†ä¸‹å®ƒï¼š

```kotlin
ğŸï¸
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        ...
    }
}
```

æˆ‘ä»¬å¯ä»¥å¯¹æ¯” Java çš„ä»£ç æ¥çœ‹æœ‰å“ªäº›ä¸åŒï¼š

```java
â˜•ï¸
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        ...
    }
}
```

1. é¦–å…ˆæ˜¯ç±»çš„å¯è§æ€§ï¼šJava ä¸­çš„ public åœ¨ Kotlin ä¸­å¯ä»¥çœç•¥ï¼Œ**Kotlin çš„ç±»é»˜è®¤æ˜¯ public çš„**ã€‚

2. ç±»çš„ç»§æ‰¿çš„å†™æ³•ï¼šJava é‡Œç”¨çš„æ˜¯ `extends`ï¼Œè€Œåœ¨ Kotlin é‡Œä½¿ç”¨ `:`ï¼Œä½†å…¶å® **`:` ä¸ä»…å¯ä»¥è¡¨ç¤ºç»§æ‰¿ï¼Œè¿˜å¯ä»¥è¡¨ç¤º Java ä¸­çš„ `implement`**ã€‚

    

    ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª interface å« Implï¼š

    ```kotlin
    ğŸï¸
    interface Impl {}
    ```

    > Kotlin é‡Œå®šä¹‰ä¸€ä¸ª interface å’Œ Java æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚

    javaä¸­å®ç°æ­¤æ¥å£ï¼š

    ```java
    â˜•ï¸
    public class MainActivity extends AppCompatActivity implements Impl { }
    ```

    kotlinä¸­å®ç°æ­¤æ¥å£ï¼š

    ```kotlin
    ğŸï¸
    class MainActivity : AppCompatActivity(), Impl {}
    ```

    

3. æ„é€ æ–¹æ³•çš„å†™æ³•ä¸åŒï¼š

    - Java é‡Œçœç•¥äº†é»˜è®¤çš„æ„é€ å‡½æ•°ï¼š

        ```java
          â˜•ï¸
          public class MainActivity extends AppCompatActivity {
              // ğŸ‘‡é»˜è®¤æ„é€ å‡½æ•°
              public MainActivity() {
              }
          }
        ```

    - Kotlin é‡Œæˆ‘ä»¬æ³¨æ„åˆ° AppCompatActivity åé¢çš„ `()`ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§çœç•¥çš„å†™æ³•ï¼Œç­‰ä»·äºï¼š

        ```kotlin
          ğŸï¸                   
          class MainActivity constructor() : AppCompatActivity() {
                                  ğŸ‘†
          }
        ```

        ä¸è¿‡å…¶å®æ›´åƒ Java çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š

        ```kotlin
        ğŸï¸
        // ğŸ‘‡æ³¨æ„è¿™é‡Œ AppCompatActivity åé¢æ²¡æœ‰ '()'
        class MainActivity : AppCompatActivity {
            constructor() {
            }
        }
        ```

        Kotlin æŠŠæ„é€ å‡½æ•°å•ç‹¬ç”¨äº†ä¸€ä¸ª `constructor` å…³é”®å­—æ¥å’Œå…¶ä»–çš„ `fun` åšåŒºåˆ†ã€‚

    - override çš„ä¸åŒ
        - Java é‡Œé¢ `@Override` æ˜¯æ³¨è§£çš„å½¢å¼ã€‚
        
        - Kotlin é‡Œçš„ `override` å˜æˆäº†å…³é”®å­—ã€‚
        
        - Kotlin çœç•¥äº† `protected` å…³é”®å­—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ==**Kotlin é‡Œçš„ `override` å‡½æ•°çš„å¯è§æ€§æ˜¯ç»§æ‰¿è‡ªçˆ¶ç±»çš„**==ã€‚
        
            

    é™¤äº†ä»¥ä¸Šè¿™äº›æ˜æ˜¾çš„ä¸åŒä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸åŒç‚¹ä»ä¸Šé¢çš„ä»£ç é‡Œçœ‹ä¸å‡ºæ¥ï¼Œä½†å½“ä½ å†™ä¸€ä¸ªç±»å»ç»§æ‰¿ `MainActivity` æ—¶å°±ä¼šå‘ç°ï¼š

    

    1. Kotlin é‡Œçš„ MainActivity æ— æ³•ç»§æ‰¿ï¼š
    
        ```kotlin
        ğŸï¸
        // ğŸ‘‡å†™æ³•ä¼šæŠ¥é”™ï¼ŒThis type is final, so it cannot be inherited from
        class NewActivity: MainActivity() {
    }
        ```

        åŸå› æ˜¯ ==**Kotlin é‡Œçš„ç±»é»˜è®¤æ˜¯ final çš„**==ï¼Œè€Œ Java é‡Œåªæœ‰åŠ äº† `final ` å…³é”®å­—çš„ç±»æ‰æ˜¯ final çš„ã€‚

        é‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•è§£é™¤ final é™åˆ¶ä¹ˆï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `open` æ¥åšè¿™ä»¶äº‹ï¼š
    
        ```kotlin
        ğŸï¸
    open class MainActivity : AppCompatActivity() {}
        ```

        è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§æ‰¿äº†ã€‚
    
        ```kotlin
        ğŸï¸
    class NewActivity: MainActivity() {}
        ```

        ä½†æ˜¯è¦æ³¨æ„ï¼Œæ­¤æ—¶ NewActivity ä»ç„¶æ˜¯ final çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ==`open` æ²¡æœ‰çˆ¶ç±»åˆ°å­ç±»çš„é—ä¼ æ€§==ã€‚

        

        è€Œåˆšæ‰è¯´åˆ°çš„ `override` æ˜¯æœ‰é—ä¼ æ€§çš„ï¼š
    
        ```kotlin
        ğŸï¸
        class NewActivity : MainActivity() {
            // ğŸ‘‡onCreate ä»ç„¶æ˜¯ override çš„
            override fun onCreate(savedInstanceState: Bundle?) {
                ...
            }
    }
        ```

        å¦‚æœè¦å…³é—­ `override` çš„é—ä¼ æ€§ï¼Œåªéœ€è¦ç»™æ–¹æ³•å‰åŠ ä¸Š`final`å…³é”®å­—ï¼š
    
        ```kotlin
        ğŸï¸
        open class MainActivity : AppCompatActivity() {
            // ğŸ‘‡åŠ äº† final å…³é”®å­—ï¼Œä½œç”¨å’Œ Java é‡Œé¢ä¸€æ ·ï¼Œå…³é—­äº† override çš„é—ä¼ æ€§ï¼Œä½¿æ–¹æ³•ä¸å¯ç»§æ‰¿
            final override fun onCreate(savedInstanceState: Bundle?) {
                ...
            }
    }
        ```

        

    2. Kotlin é‡Œé™¤äº†æ–°å¢äº† `open` å…³é”®å­—ä¹‹å¤–ï¼Œä¹Ÿæœ‰å’Œ Java ä¸€æ ·çš„ `abstract` å…³é”®å­—ï¼š
    
        ```kotlin
        ğŸï¸
        abstract class MainActivity : AppCompatActivity() {
            abstract fun test()
    }
        ```

        å­ç±»å¦‚æœéœ€è¦å®ä¾‹åŒ–åŒæ ·è¦å®ç°è¿™ä¸ª abstract å‡½æ•°çš„ï¼š
    
        ```kotlin
        ğŸï¸
        class NewActivity : MainActivity() {
            override fun test() {}
    }
        ```

        åœ¨ Kotlin ä¸­ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡éå¸¸ç®€å•ï¼Œæ²¡æœ‰ `new` å…³é”®å­—ï¼š
    
        ```kotlin
        ğŸï¸
        fun main() {
            var activity: Activity = NewActivity()
    }
        ```

        é€šè¿‡ `MainActivity` çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº† Java å’Œ Kotlin ä¸­å…³äºç±»çš„å£°æ˜ä¸»è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
    
        - ç±»çš„å¯è§æ€§å’Œå¼€æ”¾æ€§
        - æ„é€ æ–¹æ³•
        - ç»§æ‰¿
        - override å‡½æ•°



#### 3.3 ç±»å‹çš„åˆ¤æ–­å’Œå¼ºè½¬

åœ¨Kotlinå½“ä¸­ä¹Ÿæœ‰å¤šæ€è¿™ä¸ªç‰¹æ€§ï¼Œå› æ­¤åœ¨å®é™…å·¥ä½œä¸­æˆ‘ä»¬å¾ˆå¯èƒ½ä¼šé‡åˆ°éœ€è¦ä½¿ç”¨å­ç±»æ‰æœ‰çš„å‡½æ•°ã€‚



æ¯”å¦‚æˆ‘ä»¬å…ˆåœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š

```kotlin
ğŸï¸
class NewActivity : MainActivity() {
    fun action() {}
}
```

é‚£ä¹ˆæ¥ä¸‹æ¥è¿™ä¹ˆå†™æ˜¯æ— æ³•è°ƒç”¨è¯¥å‡½æ•°çš„ï¼š

```kotlin
ğŸï¸
fun main() {
    var activity: Activity = NewActivity()
    // ğŸ‘†activity æ˜¯æ— æ³•è°ƒç”¨ NewActivity çš„ action æ–¹æ³•çš„
}
```



- ç±»å‹åˆ¤æ–­

    æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ `is` å…³é”®å­—è¿›è¡Œã€Œç±»å‹åˆ¤æ–­ã€ï¼Œå¹¶ä¸”å› ä¸ºç¼–è¯‘å™¨èƒ½å¤Ÿè¿›è¡Œç±»å‹æ¨æ–­ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬çœç•¥å¼ºè½¬çš„å†™æ³•ï¼š

    ```kotlin
    ğŸï¸
    fun main() {
        var activity: Activity = NewActivity()
        if (activity is NewActivity) {
            // ğŸ‘‡çš„å¼ºè½¬ç”±äºç±»å‹æ¨æ–­è¢«çœç•¥äº†
            activity.action()
        }
    }
    ```

    

- ç±»å‹å¼ºè½¬

    é‚£ä¹ˆèƒ½ä¸èƒ½ä¸è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œç›´æ¥è¿›è¡Œå¼ºè½¬è°ƒç”¨å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ `as` å…³é”®å­—ï¼š

    ```kotlin
    ğŸï¸
    fun main() {
        var activity: Activity = NewActivity()
        (activity as NewActivity).action()
    }
    ```

    è¿™ç§å†™æ³•å¦‚æœå¼ºè½¬ç±»å‹æ“ä½œæ˜¯æ­£ç¡®çš„å½“ç„¶æ²¡é—®é¢˜ï¼Œä½†å¦‚æœå¼ºè½¬æˆä¸€ä¸ªé”™è¯¯çš„ç±»å‹ï¼Œç¨‹åºå°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚

    

- ç±»å‹å®‰å…¨å¼ºè½¬

    æˆ‘ä»¬æ›´å¸Œæœ›èƒ½è¿›è¡Œå®‰å…¨çš„å¼ºè½¬ï¼Œå¯ä»¥æ›´ä¼˜é›…åœ°å¤„ç†å¼ºè½¬å‡ºé”™çš„æƒ…å†µã€‚

    è¿™ä¸€ç‚¹ï¼ŒKotlin åœ¨è®¾è®¡ä¸Šè‡ªç„¶ä¹Ÿè€ƒè™‘åˆ°äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `as?` æ¥è§£å†³ï¼š

    ```kotlin
    ğŸï¸
    fun main() {
        var activity: Activity = NewActivity()
        // ğŸ‘‡'(activity as? NewActivity)' ä¹‹åæ˜¯ä¸€ä¸ªå¯ç©ºç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨ '?.' æ¥è°ƒç”¨
        (activity as? NewActivity)?.action()
    }
    ```

    å®ƒçš„æ„æ€å°±æ˜¯è¯´å¦‚æœå¼ºè½¬æˆåŠŸå°±æ‰§è¡Œä¹‹åçš„è°ƒç”¨ï¼Œå¦‚æœå¼ºè½¬ä¸æˆåŠŸå°±ä¸æ‰§è¡Œã€‚



------



### 4. Kotlin é‡Œé‚£äº›ã€Œä¸ Javaã€çš„å†™æ³•



#### 4.1 Constructor

##### 4.1.1 **æ„é€ å™¨**

- Java

    ```java
    â˜•ï¸
    public class User {
        int id;
        String name;
          ğŸ‘‡   ğŸ‘‡
        public User(int id, String name) {
            this.id = id;
            this.name = name;
        }
    }
    ```

- Kotlin

    ```kotlin
    ğŸï¸
    class User {
        val id: Int
        val name: String
             ğŸ‘‡
        constructor(id: Int, name: String) {
     //ğŸ‘† æ²¡æœ‰ public
            this.id = id
            this.name = name
        }
    }
    ```

å¯ä»¥å‘ç°æœ‰ä¸¤ç‚¹ä¸åŒï¼š

1. Java ä¸­æ„é€ å™¨å’Œç±»åŒåï¼ŒKotlin ä¸­ä½¿ç”¨ `constructor` è¡¨ç¤ºã€‚

2. Kotlin ä¸­æ„é€ å™¨æ²¡æœ‰ public ä¿®é¥°ï¼Œå› ä¸ºé»˜è®¤å¯è§æ€§å°±æ˜¯å…¬å¼€çš„ã€‚

    

##### 4.1.2 **åˆå§‹åŒ–ä»£ç å—**

â€‹	é™¤äº†æ„é€ å™¨ï¼ŒJava é‡Œå¸¸å¸¸é…åˆä¸€èµ·ä½¿ç”¨çš„ init ä»£ç å—ï¼Œåœ¨ Kotlin é‡Œçš„å†™æ³•ä¹Ÿæœ‰äº†ä¸€ç‚¹ç‚¹æ”¹å˜ï¼šä½ éœ€è¦ç»™å®ƒåŠ ä¸€ä¸ª `init` å‰ç¼€ã€‚

- Java

    ```java
    â˜•ï¸
    public class User {
       ğŸ‘‡
        {
            // åˆå§‹åŒ–ä»£ç å—ï¼Œå…ˆäºä¸‹é¢çš„æ„é€ å™¨æ‰§è¡Œ
        }
        
        public User() {
        }
    }
    ```

- Kotlin

    ```kotlin
    ğŸï¸
    class User {
        ğŸ‘‡
        init {
            // åˆå§‹åŒ–ä»£ç å—ï¼Œå…ˆäºä¸‹é¢çš„æ„é€ å™¨æ‰§è¡Œ
        }
        
        constructor() {
        }
    }
    ```

æ­£å¦‚ä¸Šé¢æ ‡æ³¨çš„é‚£æ ·ï¼ŒKotlin çš„ init ä»£ç å—å’Œ Java ä¸€æ ·ï¼Œéƒ½åœ¨å®ä¾‹åŒ–æ—¶æ‰§è¡Œï¼Œå¹¶ä¸”æ‰§è¡Œé¡ºåºéƒ½åœ¨æ„é€ å™¨ä¹‹å‰ã€‚



#### 4.2 finalï¼šåªè¯»å˜é‡

Kotlin ä¸­çš„ `val` å’Œ Java ä¸­çš„ `final` ç±»ä¼¼ï¼Œè¡¨ç¤ºåªè¯»å˜é‡ï¼Œä¸èƒ½ä¿®æ”¹ã€‚è¿™é‡Œåˆ†åˆ«ä»æˆå‘˜å˜é‡ã€å‚æ•°å’Œå±€éƒ¨å˜é‡æ¥å’Œ Java åšå¯¹æ¯”ï¼š

- Java

    ```java
    â˜•ï¸
     ğŸ‘‡
    final int final1 = 1;
                 ğŸ‘‡  
    void method(final String final2) {
         ğŸ‘‡
        final String final3 = "The parameter is " + final2;
    }
    ```

- Kotlin

    ```kotlin
    ğŸï¸
    ğŸ‘‡
    val fina1 = 1
           // ğŸ‘‡ å‚æ•°æ˜¯æ²¡æœ‰ val çš„
    fun method(final2: String) {
        ğŸ‘‡
        val final3 = "The parameter is " + final2
    }
    ```

å¯ä»¥çœ‹åˆ°ä¸åŒç‚¹ä¸»è¦æœ‰ï¼š

- final å˜æˆäº† valã€‚

- ==Kotlin å‡½æ•°å‚æ•°é»˜è®¤æ˜¯ val ç±»å‹==ï¼Œæ‰€ä»¥å‚æ•°å‰ä¸éœ€è¦å†™ val å…³é”®å­—ï¼ŒKotlin é‡Œè¿™æ ·è®¾è®¡çš„åŸå› æ˜¯ä¿è¯äº†å‚æ•°ä¸ä¼šè¢«ä¿®æ”¹ï¼Œè€Œ Java çš„å‚æ•°å¯ä¿®æ”¹ï¼ˆé»˜è®¤æ²¡ final ä¿®é¥°ï¼‰ä¼šå¢åŠ å‡ºé”™çš„æ¦‚ç‡ã€‚

    

ä» `final` åˆ° `val`ï¼Œåªæ˜¯æ–¹ä¾¿äº†ä¸€ç‚¹ç‚¹ï¼Œä½†å´è®©å®ƒçš„ä½¿ç”¨é¢‘ç‡æœ‰äº†å·¨å¤§çš„æ”¹å˜ã€‚è¿™ç§æ”¹å˜æ˜¯ä¼šå½±å“åˆ°ä»£ç è´¨é‡çš„ï¼šåœ¨è¯¥åŠ é™åˆ¶çš„åœ°æ–¹åŠ ä¸Šé™åˆ¶ï¼Œå°±å¯ä»¥å‡å°‘ä»£ç å‡ºé”™çš„æ¦‚ç‡ã€‚

ä¸è¿‡ `val` å’Œ `final` è¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„ï¼Œè™½ç„¶ `val` ä¿®é¥°çš„å˜é‡ä¸èƒ½äºŒæ¬¡èµ‹å€¼ï¼Œä½†å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å˜é‡çš„ getter å‡½æ•°ï¼Œè®©å˜é‡æ¯æ¬¡è¢«è®¿é—®æ—¶ï¼Œè¿”å›åŠ¨æ€è·å–çš„å€¼ã€‚



#### 4.3 static property / function

åœ¨ Java é‡Œé¢å†™å¸¸é‡ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯ `static` + `final`ã€‚è€Œåœ¨ Kotlin é‡Œé¢ï¼Œé™¤äº† `final` çš„å†™æ³•ä¸ä¸€æ ·ï¼Œ`static` çš„å†™æ³•ä¹Ÿä¸ä¸€æ ·ï¼Œè€Œä¸”æ˜¯æ›´ä¸ä¸€æ ·ã€‚ç¡®åˆ‡åœ°è¯´ï¼šåœ¨ `Kotlin` é‡Œï¼Œé™æ€å˜é‡å’Œé™æ€æ–¹æ³•è¿™ä¸¤ä¸ªæ¦‚å¿µè¢«å»é™¤äº†ã€‚

é‚£å¦‚æœæƒ³åœ¨ Kotlin ä¸­åƒ Java ä¸€æ ·é€šè¿‡ç±»ç›´æ¥å¼•ç”¨è¯¥æ€ä¹ˆåŠå‘¢ï¼ŸKotlin çš„ç­”æ¡ˆæ˜¯ ==**`companion object`**==ï¼š

```kotlin
ğŸï¸
class Sample {
    ...
       ğŸ‘‡
    companion object {
        val anotherString = "Another String"
    }
}
```

ä¸ºå•¥ Kotlin è¶Šæ”¹è¶Šå¤æ‚äº†ï¼Ÿä¸ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ `object` æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚



##### 4.3.1 **`object`**

â€‹	Kotlin é‡Œçš„ `object` â€”â€”é¦–å­—æ¯å°å†™çš„ï¼Œä¸æ˜¯å¤§å†™ï¼ŒJava é‡Œçš„ `Object` åœ¨ Kotlin é‡Œä¸ç”¨äº†ã€‚

> Java ä¸­çš„ `Object` åœ¨ Kotlin ä¸­å˜æˆäº† ==`Any`ï¼Œå’Œ `Object` ä½œç”¨ä¸€æ ·ï¼šä½œä¸ºæ‰€æœ‰ç±»çš„åŸºç±»==ã€‚

â€‹	è€Œ `object` ä¸æ˜¯ç±»ï¼Œåƒ `class` ä¸€æ ·åœ¨ Kotlin ä¸­å±äºå…³é”®å­—ï¼š

```kotlin
ğŸï¸
object Sample {
    val name = "A name"
}
```

â€‹	å®ƒçš„æ„æ€å¾ˆç›´æ¥ï¼š**åˆ›å»ºä¸€ä¸ªç±»ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªè¿™ä¸ªç±»çš„å¯¹è±¡**ã€‚è¿™ä¸ªå°±æ˜¯ `object` çš„æ„æ€ï¼šå¯¹è±¡ã€‚

â€‹	åœ¨ä»£ç ä¸­å¦‚æœè¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œç›´æ¥é€šè¿‡å®ƒçš„ç±»åå°±å¯ä»¥è®¿é—®ï¼š

```kotlin
ğŸï¸
Sample.name
```

â€‹	è¿™ä¸å°±æ˜¯å•ä¾‹ä¹ˆï¼Œæ‰€ä»¥åœ¨ Kotlin ä¸­åˆ›å»ºå•ä¾‹ä¸ç”¨åƒ Java ä¸­é‚£ä¹ˆå¤æ‚ï¼Œåªéœ€è¦æŠŠ `class` æ¢æˆ `object` å°±å¯ä»¥äº†ã€‚

â€‹	

**ä½¿ç”¨åœºæ™¯ï¼š**

1. å•ä¾‹ç±»

    æˆ‘ä»¬çœ‹ä¸€ä¸ªå•ä¾‹çš„ä¾‹å­ï¼Œåˆ†åˆ«ç”¨ Java å’Œ Kotlin å®ç°ï¼š

    - Java ä¸­å®ç°å•ä¾‹ç±»ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰ï¼š

        ```java
        â˜•ï¸
        public class A {
            private static A sInstance;
            
            public static A getInstance() {
                if (sInstance == null) {
                    sInstance = new A();
                }
                return sInstance;
            }
        
            // ğŸ‘‡è¿˜æœ‰å¾ˆå¤šæ¨¡æ¿ä»£ç 
            ...
        }
        ```

        å¯ä»¥çœ‹åˆ° Java ä¸­ä¸ºäº†å®ç°å•ä¾‹ç±»å†™äº†å¤§é‡çš„æ¨¡ç‰ˆä»£ç ï¼Œç¨æ˜¾ç¹çã€‚

    - Kotlin ä¸­å®ç°å•ä¾‹ç±»ï¼š

        ```kotlin
         ğŸï¸
        // ğŸ‘‡ class æ›¿æ¢æˆäº† object
        object A {
            val number: Int = 1
            fun method() {
                println("A.method()")
            }
        }    
        ```

        å’Œ Java ç›¸æ¯”çš„ä¸åŒç‚¹æœ‰ï¼š

        - å’Œç±»çš„å®šä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯æŠŠ `class` æ¢æˆäº† `object` ã€‚
        - ä¸éœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªå®ä¾‹å˜é‡ `sInstance`ã€‚
        - ä¸éœ€è¦ã€Œä¿è¯å®ä¾‹åªåˆ›å»ºä¸€æ¬¡ã€çš„ `getInstance()` æ–¹æ³•ã€‚

        ç›¸æ¯” Java çš„å®ç°ç®€å•å¤šäº†ã€‚

        

        > è¿™ç§==é€šè¿‡ `object` å®ç°çš„å•ä¾‹æ˜¯ä¸€ä¸ªé¥¿æ±‰å¼çš„å•ä¾‹ï¼Œå¹¶ä¸”å®ç°äº†çº¿ç¨‹å®‰å…¨==ã€‚

2. ç»§æ‰¿ç±»å’Œå®ç°æ¥å£

    Kotlin ä¸­ä¸ä»…ç±»å¯ä»¥ç»§æ‰¿åˆ«çš„ç±»ï¼Œå¯ä»¥å®ç°æ¥å£ï¼Œ`object` ä¹Ÿå¯ä»¥ï¼š

    ```kotlin
    ğŸï¸
    open class A {
        open fun method() {
            ...
        }
    }
    
    interface B {
        fun interfaceMethod()
    }
      ğŸ‘‡      ğŸ‘‡   ğŸ‘‡
    object C : A(), B {
    
        override fun method() {
            ...
        }
    
        override fun interfaceMethod() {
            ...
        }
    }
    ```

    ä¸ºä»€ä¹ˆ object å¯ä»¥å®ç°æ¥å£å‘¢ï¼Ÿç®€å•æ¥è®² object å…¶å®æ˜¯æŠŠä¸¤æ­¥åˆå¹¶æˆäº†ä¸€æ­¥ï¼Œæ—¢æœ‰ class å…³é”®å­—çš„åŠŸèƒ½ï¼Œåˆå®ç°äº†å•ä¾‹ï¼Œè¿™æ ·å°±å®¹æ˜“ç†è§£äº†ã€‚

3. åŒ¿åç±»

    å¦å¤–ï¼ŒKotlin è¿˜å¯ä»¥åˆ›å»º Java ä¸­çš„åŒ¿åç±»ï¼Œåªæ˜¯å†™æ³•ä¸Šæœ‰ç‚¹ä¸åŒï¼š

    - Javaï¼š

        ```java
        â˜•ï¸                                              ğŸ‘‡ 
        ViewPager.SimpleOnPageChangeListener listener = new ViewPager.SimpleOnPageChangeListener() {
            @Override // ğŸ‘ˆ
            public void onPageSelected(int position) {
                // override
            }
        };
        ```

    - Kotlinï¼š

        ```kotlin
        ğŸï¸          
        val listener = object: ViewPager.SimpleOnPageChangeListener() {
            override fun onPageSelected(position: Int) {
                // override
            }
        }        
        ```

        å’Œ Java åˆ›å»ºåŒ¿åç±»çš„æ–¹å¼å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡æŠŠ `new` æ¢æˆäº† `object:`ï¼š

        - Java ä¸­ `new` ç”¨æ¥åˆ›å»ºä¸€ä¸ªåŒ¿åç±»çš„å¯¹è±¡
        - Kotlin ä¸­ `object:` ä¹Ÿå¯ä»¥ç”¨æ¥åˆ›å»ºåŒ¿åç±»çš„å¯¹è±¡

        è¿™é‡Œçš„ `new ` å’Œ `object:` ä¿®é¥°çš„éƒ½æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»ã€‚



##### 4.3.2 **`companion object`**

ç”¨ `object` ä¿®é¥°çš„å¯¹è±¡ä¸­çš„å˜é‡å’Œå‡½æ•°éƒ½æ˜¯é™æ€çš„ï¼Œä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬åªæƒ³è®©ç±»ä¸­çš„ä¸€éƒ¨åˆ†å‡½æ•°å’Œå˜é‡æ˜¯é™æ€çš„è¯¥æ€ä¹ˆåšå‘¢ï¼š

```kotlin
ğŸï¸
class A {
          ğŸ‘‡
    object B {
        var c: Int = 0
    }
}
```

å¦‚ä¸Šï¼Œå¯ä»¥åœ¨ç±»ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ŒæŠŠéœ€è¦é™æ€çš„å˜é‡æˆ–å‡½æ•°æ”¾åœ¨å†…éƒ¨å¯¹è±¡ B ä¸­ï¼Œå¤–éƒ¨å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼è°ƒç”¨è¯¥é™æ€å˜é‡ï¼š

```kotlin
ğŸï¸
A.B.c
  ğŸ‘†
```

ç±»ä¸­åµŒå¥—çš„å¯¹è±¡å¯ä»¥ç”¨ `companion` ä¿®é¥°ï¼š

```kotlin
ğŸï¸
class A {
       ğŸ‘‡
    companion object B {
        var c: Int = 0
    }
}
```

`companion` å¯ä»¥ç†è§£ä¸ºä¼´éšã€ä¼´ç”Ÿï¼Œè¡¨ç¤ºä¿®é¥°çš„å¯¹è±¡å’Œå¤–éƒ¨ç±»ç»‘å®šã€‚

ä½†è¿™é‡Œæœ‰ä¸€ä¸ªå°é™åˆ¶ï¼š==**ä¸€ä¸ªç±»ä¸­æœ€å¤šåªå¯ä»¥æœ‰ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªåµŒå¥—å¯¹è±¡**==ã€‚å°±åƒçš‡å¸åå®«ä½³ä¸½ä¸‰åƒï¼Œä½†çš‡ååªæœ‰ä¸€ä¸ªã€‚

è¿™æ ·çš„å¥½å¤„æ˜¯è°ƒç”¨çš„æ—¶å€™å¯ä»¥çœæ‰å¯¹è±¡åï¼š

```kotlin
ğŸï¸
A.c // ğŸ‘ˆ B æ²¡äº†
```

æ‰€ä»¥ï¼Œ**å½“æœ‰ `companion` ä¿®é¥°æ—¶ï¼Œå¯¹è±¡çš„åå­—ä¹Ÿå¯ä»¥çœç•¥æ‰**ï¼š

```kotlin
ğŸï¸
class A {
                // ğŸ‘‡ B æ²¡äº†
    companion object {
        var c: Int = 0
    }
}
```

è¿™å°±æ˜¯è¿™èŠ‚æœ€å¼€å§‹è®²åˆ°çš„ï¼ŒJava é™æ€å˜é‡å’Œæ–¹æ³•çš„ç­‰ä»·å†™æ³•ï¼š`companion object` å˜é‡å’Œå‡½æ•°ã€‚ä½†æ˜¯è¿™å¹¶ä¸ç®—çœŸæ­£æ„ä¹‰ä¸Šçš„é™æ€å˜é‡å’Œå‡½æ•°ã€‚

- é™æ€åˆå§‹åŒ–

    Java ä¸­çš„é™æ€å˜é‡å’Œæ–¹æ³•ï¼Œåœ¨ Kotlin ä¸­éƒ½æ”¾åœ¨äº† `companion object` ä¸­ã€‚å› æ­¤ Java ä¸­çš„é™æ€åˆå§‹åŒ–åœ¨ Kotlin ä¸­è‡ªç„¶ä¹Ÿæ˜¯æ”¾åœ¨ `companion object` ä¸­çš„ï¼Œåƒç±»çš„åˆå§‹åŒ–ä»£ç ä¸€æ ·ï¼Œç”± `init` å’Œä¸€å¯¹å¤§æ‹¬å·è¡¨ç¤ºï¼š

    ```kotlin
    ğŸï¸
    class Sample {
           ğŸ‘‡
        companion object {
             ğŸ‘‡
            init {
                ...
            }
        }
    }
    ```



##### 4.3.3 **top-level property / function å£°æ˜**

é™¤äº†é™æ€å‡½æ•°è¿™ç§ç®€ä¾¿çš„è°ƒç”¨æ–¹å¼ï¼ŒKotlin è¿˜æœ‰æ›´æ–¹ä¾¿çš„ä¸œè¥¿ï¼šã€Œ`top-level declaration` é¡¶å±‚å£°æ˜ã€ã€‚å…¶å®å°±æ˜¯æŠŠå±æ€§å’Œå‡½æ•°çš„å£°æ˜ä¸å†™åœ¨ `class` é‡Œé¢ï¼Œè¿™ä¸ªåœ¨ Kotlin é‡Œæ˜¯å…è®¸çš„ï¼š

```kotlin
ğŸï¸
package com.hencoder.plus

// ğŸ‘‡ å±äº packageï¼Œä¸åœ¨ class/object å†…
fun topLevelFuncion() {
}
```

è¿™æ ·å†™çš„å±æ€§å’Œå‡½æ•°ï¼Œä¸å±äºä»»ä½• `class`ï¼Œè€Œæ˜¯==ç›´æ¥å±äº `package`ï¼Œå®ƒå’Œé™æ€å˜é‡ã€é™æ€å‡½æ•°ä¸€æ ·æ˜¯å…¨å±€çš„==ï¼Œä½†ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼šä½ åœ¨å…¶å®ƒåœ°æ–¹ç”¨çš„æ—¶å€™ï¼Œå°±è¿ç±»åéƒ½ä¸ç”¨å†™ï¼š

```kotlin
ğŸï¸
import com.hencoder.plus.topLevelFunction // ğŸ‘ˆ ç›´æ¥ import å‡½æ•°

topLevelFunction()
```

å†™åœ¨é¡¶çº§çš„å‡½æ•°æˆ–è€…å˜é‡æœ‰ä¸ªå¥½å¤„ï¼šåœ¨ Android Studio ä¸­å†™ä»£ç æ—¶ï¼ŒIDE å¾ˆå®¹æ˜“æ ¹æ®ä½ å†™çš„å‡½æ•°å‰å‡ ä¸ªå­—æ¯è‡ªåŠ¨è”æƒ³å‡ºç›¸åº”çš„å‡½æ•°ã€‚è¿™æ ·æé«˜äº†å†™ä»£ç çš„æ•ˆç‡ï¼Œè€Œä¸”å¯ä»¥å‡å°‘é¡¹ç›®ä¸­çš„é‡å¤ä»£ç ã€‚



- å‘½åç›¸åŒçš„é¡¶çº§å‡½æ•°

    é¡¶çº§å‡½æ•°ä¸å†™åœ¨ç±»ä¸­å¯èƒ½æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåœ¨ä¸åŒæ–‡ä»¶ä¸­å£°æ˜å‘½åç›¸åŒçš„å‡½æ•°ï¼Œä½¿ç”¨çš„æ—¶å€™ä¼šä¸ä¼šæ··æ·†ï¼Ÿæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š

    - åœ¨ `org.kotlinmaster.library` åŒ…ä¸‹æœ‰ä¸€ä¸ªå‡½æ•° methodï¼š

        ```kotlin
        ğŸï¸
        package org.kotlinmaster.library1
                                   ğŸ‘†
        fun method() {
            println("library1 method()")
        }
        ```

    - åœ¨ `org.kotlinmaster.library2` åŒ…ä¸‹æœ‰ä¸€ä¸ªåŒåå‡½æ•°ï¼š

        ```kotlin
        ğŸï¸
        package org.kotlinmaster.library2
                                   ğŸ‘†
        fun method() {
            println("library2 method()")
        }
        ```

    åœ¨ä½¿ç”¨çš„æ—¶å€™å¦‚æœåŒæ—¶è°ƒç”¨è¿™ä¸¤ä¸ªåŒåå‡½æ•°ä¼šæ€ä¹ˆæ ·ï¼š

    ```kotlin
    ğŸï¸
    import org.kotlinmaster.library1.method
                               ğŸ‘†
    fun test() {
        method()
                           ğŸ‘‡
        org.kotlinmaster.library2.method()
    }
    ```

    Kotlinå¯ä»¥çœ‹åˆ°å½“å‡ºç°ä¸¤ä¸ªåŒåé¡¶çº§å‡½æ•°æ—¶ï¼ŒIDE ä¼šè‡ªåŠ¨åŠ ä¸ŠåŒ…å‰ç¼€æ¥åŒºåˆ†ï¼Œè¿™ä¹Ÿå°è¯äº†**ã€Œé¡¶çº§å‡½æ•°å±äºåŒ…**ã€çš„ç‰¹æ€§ã€‚

    

##### 4.3.4 **ä½¿ç”¨é€‰æ‹©å¯¹æ¯”**

é‚£åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œåœ¨ `object`ã€`companion object` å’Œ top-level ä¸­è¯¥é€‰æ‹©å“ªä¸€ä¸ªå‘¢ï¼Ÿç®€å•æ¥è¯´æŒ‰ç…§ä¸‹é¢è¿™ä¸¤ä¸ªåŸåˆ™åˆ¤æ–­ï¼š

- å¦‚æœæƒ³å†™å·¥å…·ç±»çš„åŠŸèƒ½ï¼Œç›´æ¥åˆ›å»ºæ–‡ä»¶ï¼Œå†™ top-levelã€Œé¡¶å±‚ã€å‡½æ•°ã€‚
- å¦‚æœéœ€è¦ç»§æ‰¿åˆ«çš„ç±»æˆ–è€…å®ç°æ¥å£ï¼Œå°±ç”¨ `object` æˆ– `companion object`ã€‚



#### 4.4 é™æ€å¸¸é‡

Java ä¸­ï¼Œé™¤äº†ä¸Šé¢è®²åˆ°çš„çš„é™æ€å˜é‡å’Œæ–¹æ³•ä¼šç”¨åˆ° `static`ï¼Œå£°æ˜å¸¸é‡æ—¶ä¹Ÿä¼šç”¨åˆ°ï¼Œé‚£ Kotlin ä¸­å£°æ˜å¸¸é‡ä¼šæœ‰ä»€ä¹ˆå˜åŒ–å‘¢ï¼Ÿ

- Java ä¸­å£°æ˜å¸¸é‡ï¼š

    ```java
    â˜•ï¸
    public class Sample {
                ğŸ‘‡     ğŸ‘‡
        public static final int CONST_NUMBER = 1;
    }
    ```

- Kotlin ä¸­å£°æ˜å¸¸é‡ï¼š

    ```kotlin
    ğŸï¸
    class Sample {
        companion object {
             ğŸ‘‡                  // ğŸ‘‡
            const val CONST_NUMBER = 1
        }
    }
    
    const val CONST_SECOND_NUMBER = 2
    ```

å‘ç°ä¸åŒç‚¹æœ‰ï¼š

- ==Kotlin çš„å¸¸é‡å¿…é¡»å£°æ˜åœ¨å¯¹è±¡ï¼ˆåŒ…æ‹¬ä¼´ç”Ÿå¯¹è±¡ï¼‰æˆ–è€…ã€Œtop-level é¡¶å±‚ã€ä¸­==ï¼Œå› ä¸ºå¸¸é‡æ˜¯é™æ€çš„ã€‚
- Kotlin æ–°å¢äº†ä¿®é¥°å¸¸é‡çš„ `const` å…³é”®å­—ã€‚

é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªåŒºåˆ«ï¼š

- ==**Kotlin ä¸­åªæœ‰åŸºæœ¬ç±»å‹å’Œ String ç±»å‹å¯ä»¥å£°æ˜æˆå¸¸é‡**==ã€‚

    

åŸå› æ˜¯ Kotlin ä¸­çš„å¸¸é‡æŒ‡çš„æ˜¯ ã€Œcompile-time constant ç¼–è¯‘æ—¶å¸¸é‡ã€ï¼Œå®ƒçš„æ„æ€æ˜¯ã€Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å°±çŸ¥é“è¿™ä¸ªä¸œè¥¿åœ¨æ¯ä¸ªè°ƒç”¨å¤„çš„å®é™…å€¼ã€ï¼Œå› æ­¤å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç›´æ¥æŠŠè¿™ä¸ªå€¼ç¡¬ç¼–ç åˆ°ä»£ç é‡Œä½¿ç”¨çš„åœ°æ–¹ã€‚

è€ŒéåŸºæœ¬å’Œ String ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æˆ–å˜é‡æ”¹å˜å¯¹è±¡å†…éƒ¨çš„å€¼ï¼Œè¿™æ ·è¿™ä¸ªå˜é‡å°±ä¸æ˜¯å¸¸é‡äº†ï¼Œæ¥çœ‹ä¸€ä¸ª Java çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ª User ç±»ï¼š

```java
â˜•ï¸
public class User {
    int id; // ğŸ‘ˆ å¯ä¿®æ”¹
    String name; // ğŸ‘ˆ å¯ä¿®æ”¹
    public User(int id, String name) {
        this.id = id;
        this.name = name;
    }
}
```

åœ¨ä½¿ç”¨çš„åœ°æ–¹å£°æ˜ä¸€ä¸ª `static final` çš„ User å®ä¾‹ `user`ï¼Œå®ƒæ˜¯ä¸èƒ½äºŒæ¬¡èµ‹å€¼çš„ï¼š

```java
â˜•ï¸
static final User user = new User(123, "Zhangsan");
  ğŸ‘†    ğŸ‘†
```

ä½†æ˜¯å¯ä»¥é€šè¿‡è®¿é—®è¿™ä¸ª `user` å®ä¾‹çš„æˆå‘˜å˜é‡æ”¹å˜å®ƒçš„å€¼ï¼š

```java
â˜•ï¸
user.name = "Lisi";
      ğŸ‘†
```

æ‰€ä»¥ **Java ä¸­çš„å¸¸é‡å¯ä»¥è®¤ä¸ºæ˜¯ã€Œä¼ªå¸¸é‡ã€**ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ä¸Šé¢è¿™ç§æ–¹å¼æ”¹å˜å®ƒå†…éƒ¨çš„å€¼ã€‚è€Œ Kotlin çš„å¸¸é‡å› ä¸ºé™åˆ¶ç±»å‹å¿…é¡»æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥ä¸å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œæ›´ç¬¦åˆå¸¸é‡çš„å®šä¹‰ã€‚



#### 4.5 æ•°ç»„å’Œé›†åˆ

##### 4.5.1 æ•°ç»„

1. å£°æ˜å¹¶åˆ›å»ºä¸€ä¸ª String æ•°ç»„

    - Java ä¸­çš„å†™æ³•ï¼š

        ```java
        â˜•ï¸
        String[] strs = {"a", "b", "c"};
              ğŸ‘†        ğŸ‘†
        ```

    - Kotlin ä¸­çš„å†™æ³•ï¼š

        ```kotlin
        ğŸï¸
        val strs: Array<String> = arrayOf("a", "b", "c")  //åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ çš„æ•°ç»„
                    ğŸ‘†              ğŸ‘†
        
        val ints:IntArray = IntArray(5){i: Int -> i+1}   //åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„å¹¶åˆå§‹åŒ– ï¼ˆ0,1,2,3,4,5ï¼‰
        ```

        å¯ä»¥çœ‹åˆ° Kotlin ä¸­çš„æ•°ç»„æ˜¯ä¸€ä¸ªæ‹¥æœ‰æ³›å‹çš„ç±»ï¼Œåˆ›å»ºå‡½æ•°ä¹Ÿæ˜¯æ³›å‹å‡½æ•°ï¼Œå’Œé›†åˆæ•°æ®ç±»å‹ä¸€æ ·ã€‚

        

        å°†æ•°ç»„æ³›å‹åŒ–æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¯¹æ•°ç»„çš„æ“ä½œå¯ä»¥åƒé›†åˆä¸€æ ·åŠŸèƒ½æ›´å¼ºå¤§ï¼Œç”±äºæ³›å‹åŒ–ï¼ŒKotlin å¯ä»¥ç»™æ•°ç»„å¢åŠ å¾ˆå¤šæœ‰ç”¨çš„å·¥å…·å‡½æ•°ï¼š

        - `get() / set()`
        - `contains()`
        - `first()`
        - `find()`

        è¿™æ ·æ•°ç»„çš„å®ç”¨æ€§å°±å¤§å¤§å¢åŠ äº†ã€‚

2. å–å€¼å’Œä¿®æ”¹

    Kotlin ä¸­è·å–æˆ–è€…è®¾ç½®æ•°ç»„å…ƒç´ å’Œ Java ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·åŠ ä¸‹æ ‡çš„æ–¹å¼ç´¢å¼•ï¼š

    ```kotlin
    ğŸï¸
    println(strs[0])
       ğŸ‘‡      ğŸ‘†
    strs[1] = "B"
    ```

3. ä¸æ”¯æŒåå˜

    Kotlin çš„æ•°ç»„ç¼–è¯‘æˆå­—èŠ‚ç æ—¶ä½¿ç”¨çš„ä»ç„¶æ˜¯ Java çš„æ•°ç»„ï¼Œä½†åœ¨è¯­è¨€å±‚é¢æ˜¯æ³›å‹å®ç°ï¼Œè¿™æ ·ä¼šå¤±å»åå˜ (covariance) ç‰¹æ€§ï¼Œå°±æ˜¯å­ç±»æ•°ç»„å¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™çˆ¶ç±»çš„æ•°ç»„å˜é‡ï¼š

    - Kotlin

        ```kotlin
        ğŸï¸
        val strs: Array<String> = arrayOf("a", "b", "c")
                          ğŸ‘†
        val anys: Array<Any> = strs // compile-error: Type mismatch
                        ğŸ‘†
        ```

    - è€Œè¿™åœ¨ Java ä¸­æ˜¯å¯ä»¥çš„ï¼š

        ```java
        â˜•ï¸
        String[] strs = {"a", "b", "c"};
          ğŸ‘†
        Object[] objs = strs; // success
          ğŸ‘†
        ```

4. ä½¿ç”¨åœºæ™¯ï¼šåœ¨ä¸€äº›æ€§èƒ½éœ€æ±‚æ¯”è¾ƒè‹›åˆ»çš„åœºæ™¯ï¼Œå¹¶ä¸”å…ƒç´ ç±»å‹æ˜¯åŸºæœ¬ç±»å‹æ—¶ï¼Œç”¨æ•°ç»„å¥½ä¸€ç‚¹ã€‚ä¸è¿‡è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼ŒKotlin ä¸­è¦ç”¨==ä¸“é—¨çš„åŸºæœ¬ç±»å‹æ•°ç»„ç±» (`IntArray` `FloatArray` `LongArray`) æ‰å¯ä»¥å…äºè£…ç®±==ã€‚ä¹Ÿå°±æ˜¯è¯´å…ƒç´ ä¸æ˜¯åŸºæœ¬ç±»å‹æ—¶ï¼Œç›¸æ¯” `Array`ï¼Œç”¨ `List` æ›´æ–¹ä¾¿äº›ã€‚



##### 4.5.2 **é›†åˆ**

Kotlin å’Œ Java ä¸€æ ·æœ‰ä¸‰ç§é›†åˆç±»å‹ï¼šListã€Set å’Œ Mapï¼Œå®ƒä»¬çš„å«ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š

- `List` ä»¥å›ºå®šé¡ºåºå­˜å‚¨ä¸€ç»„å…ƒç´ ï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚
- `Set` å­˜å‚¨ä¸€ç»„ä¸å¯é‡å¤çš„å…ƒç´ ï¼Œé€šå¸¸æ²¡æœ‰å›ºå®šé¡ºåºã€‚
- `Map` å­˜å‚¨ é”®-å€¼ å¯¹çš„æ•°æ®é›†åˆï¼Œé”®ä¸å¯é‡å¤ï¼Œä½†ä¸åŒçš„é”®å¯ä»¥å¯¹åº”ç›¸åŒçš„å€¼ã€‚



1. **Listï¼š**

    - åˆ›å»º

        - Java ä¸­åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼š

            ```java
            â˜•ï¸
            List<String> strList = new ArrayList<>();
            strList.add("a");
            strList.add("b");
            strList.add("c"); // ğŸ‘ˆ æ·»åŠ å…ƒç´ ç¹ç
            ```

        - Kotlin ä¸­åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼š

            ```kotlin
            ğŸï¸            
            val strList = listOf("a", "b", "c")  //åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ çš„list
            
            val strList2 = List(5){index: Int -> index+1}  //åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„listå¹¶åˆå§‹åŒ– [0,1,2,3,4,5]
            ```

            èƒ½çœ‹åˆ°çš„æ˜¯ Kotlin ä¸­åˆ›å»ºä¸€ä¸ª `List` ç‰¹åˆ«çš„ç®€å•ï¼Œæœ‰ç‚¹åƒåˆ›å»ºæ•°ç»„çš„ä»£ç ã€‚

    - åå˜

        â€‹	 Kotlin ä¸­çš„ `List` å¤šäº†ä¸€ä¸ªç‰¹æ€§ï¼šæ”¯æŒ covariantï¼ˆåå˜ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æŠŠå­ç±»çš„ `List` èµ‹å€¼ç»™çˆ¶ç±»çš„ `List` å˜é‡ï¼š

        - Kotlinï¼š

            ```kotlin
            ğŸï¸
            val strs: List<String> = listOf("a", "b", "c")
                            ğŸ‘†
            val anys: List<Any> = strs // success
                           ğŸ‘†
            ```

        - è€Œè¿™åœ¨ Java ä¸­æ˜¯ä¼šæŠ¥é”™çš„ï¼š

            ```java
            â˜•ï¸
            List<String> strList = new ArrayList<>();
                   ğŸ‘†
            List<Object> objList = strList; // ğŸ‘ˆ compile error: incompatible types
                  ğŸ‘†  
            ```

            å¯¹äºåå˜çš„æ”¯æŒä¸å¦ï¼Œ`List` å’Œæ•°ç»„åˆšå¥½åè¿‡æ¥äº†ã€‚

    - å’Œæ•°ç»„çš„åŒºåˆ«ï¼šKotlin ä¸­æ•°ç»„å’Œ MutableList çš„ API æ˜¯éå¸¸åƒçš„ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯==æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ä¸èƒ½å˜==ã€‚

        

2. Set

    - åˆ›å»º

        - Java ä¸­åˆ›å»ºä¸€ä¸ª `Set`ï¼š

            ```java
            â˜•ï¸
            Set<String> strSet = new HashSet<>();
            strSet.add("a");
            strSet.add("b");
            strSet.add("c");
            ```

        - Kotlin ä¸­åˆ›å»ºç›¸åŒçš„ `Set`ï¼š

            ```kotlin
            ğŸï¸           
            val strSet = setOf("a", "b", "c")  
            ```

    - åå˜

        å’Œ `List` ç±»ä¼¼ï¼Œ`Set` åŒæ ·å…·æœ‰ covariantï¼ˆåå˜ï¼‰ç‰¹æ€§ã€‚

        

3. Map

    - åˆ›å»º

        - Java ä¸­åˆ›å»ºä¸€ä¸ª `Map`ï¼š

            ```java
            â˜•ï¸
            Map<String, Integer> map = new HashMap<>();
            map.put("key1", 1);
            map.put("key2", 2);
            map.put("key3", 3);
            map.put("key4", 3);
            ```

        - Kotlin ä¸­åˆ›å»ºä¸€ä¸ª `Map`ï¼š

            ```kotlin
            ğŸï¸         
            val map = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 3)
            ```

            å’Œä¸Šé¢ä¸¤ç§é›†åˆç±»å‹ç›¸ä¼¼åˆ›å»ºä»£ç å¾ˆç®€æ´ã€‚`mapOf` çš„æ¯ä¸ªå‚æ•°è¡¨ç¤ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œ`to` è¡¨ç¤ºå°†ã€Œé”®ã€å’Œã€Œå€¼ã€å…³è”ï¼Œè¿™ä¸ªå«åšã€Œä¸­ç¼€è¡¨è¾¾å¼ã€ã€‚

    - å–å€¼å’Œä¿®æ”¹

        - Kotlin ä¸­çš„ Map é™¤äº†å’Œ Java ä¸€æ ·å¯ä»¥ä½¿ç”¨ `get()` æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·çš„æ–¹å¼è·å–ï¼š

            ```kotlin
            ğŸï¸
                             ğŸ‘‡
            val value1 = map.get("key1")
                           ğŸ‘‡
            val value2 = map["key2"]
            ```

        - ç±»ä¼¼çš„ï¼ŒKotlin ä¸­ä¹Ÿå¯ä»¥ç”¨æ–¹æ‹¬å·çš„æ–¹å¼æ”¹å˜ `Map` ä¸­é”®å¯¹åº”çš„å€¼ï¼š

            ```kotlin
            ğŸï¸       
                          ğŸ‘‡
            val map = mutableMapOf("key1" to 1, "key2" to 2)
                ğŸ‘‡
            map.put("key1", 2)
               ğŸ‘‡
            map["key1"] = 2    
            ```

            è¿™é‡Œç”¨åˆ°äº†ã€Œæ“ä½œç¬¦é‡è½½ã€çš„çŸ¥è¯†ï¼Œå®ç°äº†å’Œæ•°ç»„ä¸€æ ·çš„ã€ŒPositional Access Operationsã€ã€‚

            

4. å¯å˜é›†åˆ/ä¸å¯å˜é›†åˆ

    ä¸Šé¢ä¿®æ”¹ `Map` å€¼çš„ä¾‹å­ä¸­ï¼Œåˆ›å»ºå‡½æ•°ç”¨çš„æ˜¯ `mutableMapOf()` è€Œä¸æ˜¯ `mapOf()`ï¼Œå› ä¸ºåªæœ‰ `mutableMapOf()` åˆ›å»ºçš„ `Map` æ‰å¯ä»¥ä¿®æ”¹ã€‚Kotlin ä¸­é›†åˆåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šåªè¯»çš„å’Œå¯å˜çš„ã€‚è¿™é‡Œçš„åªè¯»æœ‰ä¸¤å±‚æ„æ€ï¼š

    - é›†åˆçš„ size ä¸å¯å˜

    - é›†åˆä¸­çš„å…ƒç´ å€¼ä¸å¯å˜

        

    ä»¥ä¸‹æ˜¯ä¸‰ç§é›†åˆç±»å‹åˆ›å»ºä¸å¯å˜å’Œå¯å˜å®ä¾‹çš„ä¾‹å­ï¼š

    - `listOf()`ï¼š åˆ›å»ºä¸å¯å˜çš„ `List`ï¼Œ`mutableListOf()`ï¼š åˆ›å»ºå¯å˜çš„ `List`ã€‚

    - `setOf()` ï¼šåˆ›å»ºä¸å¯å˜çš„ `Set`ï¼Œ`mutableSetOf()` ï¼šåˆ›å»ºå¯å˜çš„ `Set`ã€‚

    - `mapOf()`ï¼š åˆ›å»ºä¸å¯å˜çš„ `Map`ï¼Œ`mutableMapOf()`ï¼š åˆ›å»ºå¯å˜çš„ `Map`ã€‚

        

    å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ `mutable` å‰ç¼€çš„å‡½æ•°åˆ›å»ºçš„æ˜¯å¯å˜çš„é›†åˆï¼Œæ²¡æœ‰ `mutbale` å‰ç¼€çš„åˆ›å»ºçš„æ˜¯ä¸å¯å˜çš„é›†åˆï¼Œä¸è¿‡ä¸å¯å˜çš„å¯ä»¥é€šè¿‡ `toMutable*()` ç³»å‡½æ•°è½¬æ¢æˆå¯å˜çš„é›†åˆï¼š

    ```kotlin
    ğŸï¸
    val strList = listOf("a", "b", "c")
                ğŸ‘‡
    strList.toMutableList()
    
    val strSet = setOf("a", "b", "c")
                ğŸ‘‡
    strSet.toMutableSet()
    
    val map = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 3)
             ğŸ‘‡
    map.toMutableMap()
    ```

    ç„¶åå°±å¯ä»¥å¯¹é›†åˆè¿›è¡Œä¿®æ”¹äº†ï¼Œè¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ä¸‹ï¼š

    - `toMutable*()` ï¼š==è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å»ºçš„é›†åˆï¼ŒåŸæœ‰çš„é›†åˆè¿˜æ˜¯ä¸å¯å˜çš„==ï¼Œæ‰€ä»¥åªèƒ½å¯¹å‡½æ•°è¿”å›çš„é›†åˆä¿®æ”¹ã€‚

    

5. `Sequence`

    é™¤äº†é›†åˆ Kotlin è¿˜å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å®¹å™¨ç±»å‹ `Sequence`ï¼Œå®ƒå’Œ `Iterable` ä¸€æ ·ç”¨æ¥éå†ä¸€ç»„æ•°æ®å¹¶å¯ä»¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œç‰¹å®šçš„å¤„ç†ï¼Œå…ˆæ¥çœ‹çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ª `Sequence`ã€‚

    - åˆ›å»º

        - ç±»ä¼¼ `listOf()` ï¼Œä½¿ç”¨ä¸€ç»„å…ƒç´ åˆ›å»ºï¼š

            ```kotlin
            ğŸï¸
            sequenceOf("a", "b", "c")
            ```

        - ä½¿ç”¨ `Iterable` åˆ›å»ºï¼š

            ```kotlin
            ğŸï¸
            val list = listOf("a", "b", "c")
            list.asSequence()
            ```

            è¿™é‡Œçš„ `List` å®ç°äº† `Iterable` æ¥å£ã€‚

        - ä½¿ç”¨ lambda è¡¨è¾¾å¼åˆ›å»ºï¼š

            ```kotlin
            ğŸï¸                          // ğŸ‘‡ ç¬¬ä¸€ä¸ªå…ƒç´ 
            val sequence = generateSequence(0) { it + 1 }
                                              // ğŸ‘† lambda è¡¨è¾¾å¼ï¼Œè´Ÿè´£ç”Ÿæˆç¬¬äºŒä¸ªåŠä»¥åçš„å…ƒç´ ï¼Œit è¡¨ç¤ºå‰ä¸€ä¸ªå…ƒç´ 
            ```



#### 4.6  å¯è§æ€§ä¿®é¥°ç¬¦

 Kotlin ä¸­çš„å¯è§æ€§ä¿®é¥°ç¬¦ï¼ŒKotlin ä¸­æœ‰å››ç§å¯è§æ€§ä¿®é¥°ç¬¦ï¼š

- `public `ï¼šå…¬å¼€ï¼Œå¯è§æ€§æœ€å¤§ï¼Œå“ªé‡Œéƒ½å¯ä»¥å¼•ç”¨ã€‚
- `private`ï¼šç§æœ‰ï¼Œå¯è§æ€§æœ€å°ï¼Œæ ¹æ®å£°æ˜ä½ç½®ä¸åŒå¯åˆ†ä¸ºç±»ä¸­å¯è§å’Œæ–‡ä»¶ä¸­å¯è§ã€‚
- `protected`ï¼šä¿æŠ¤ï¼Œç›¸å½“äº `private` + å­ç±»å¯è§ã€‚
- `internal`ï¼šå†…éƒ¨ï¼Œä»…å¯¹ module å†…å¯è§ã€‚



1.  `public`

    Java ä¸­æ²¡å†™å¯è§æ€§ä¿®é¥°ç¬¦æ—¶ï¼Œè¡¨ç¤ºåŒ…å†…å¯è§ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ª `package` å†…å¯ä»¥å¼•ç”¨ï¼›

    Kotlin ä¸­å¦‚æœä¸å†™å¯è§æ€§ä¿®é¥°ç¬¦ï¼Œå°±è¡¨ç¤ºå…¬å¼€ï¼Œå’Œ Java ä¸­ `public` ä¿®é¥°ç¬¦å…·æœ‰ç›¸åŒæ•ˆæœã€‚åœ¨ Kotlin ä¸­ `public` ä¿®é¥°ç¬¦ã€Œå¯ä»¥åŠ ï¼Œä½†æ²¡å¿…è¦ã€ã€‚

2.  `private`

    - Java ä¸­çš„ `private` è¡¨ç¤ºç±»ä¸­å¯è§ï¼Œä½œä¸ºå†…éƒ¨ç±»æ—¶å¯¹å¤–éƒ¨ç±»ã€Œå¯è§ã€ã€‚

    - ==Kotlin ä¸­çš„ `private` è¡¨ç¤ºç±»ä¸­æˆ–æ‰€åœ¨æ–‡ä»¶å†…å¯è§ï¼Œä½œä¸ºå†…éƒ¨ç±»æ—¶å¯¹å¤–éƒ¨ç±»ã€Œä¸å¯è§ã€==ã€‚

        `private` ä¿®é¥°çš„å˜é‡ã€Œç±»ä¸­å¯è§ã€å’Œ ã€Œæ–‡ä»¶ä¸­å¯è§ã€:

        ```kotlin
        ğŸï¸
        class Sample {
            private val propertyInClass = 1 // ğŸ‘ˆ ä»… Sample ç±»ä¸­å¯è§
        }
        
        private val propertyInFile = "A string." // ğŸ‘ˆ èŒƒå›´æ›´å¤§ï¼Œæ•´ä¸ªæ–‡ä»¶å¯è§
        ```

    - ==å¯ä»¥ä¿®é¥°å¤–éƒ¨ç±»å’Œæ¥å£==

        - Java ä¸­ä¸€ä¸ªæ–‡ä»¶åªå…è®¸ä¸€ä¸ªå¤–éƒ¨ç±»ï¼Œæ‰€ä»¥ `class` å’Œ `interface` ä¸å…è®¸è®¾ç½®ä¸º `private`ï¼Œå› ä¸ºå£°æ˜ `private` åæ— æ³•è¢«å¤–éƒ¨ä½¿ç”¨ï¼Œè¿™æ ·å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚

        - Kotlin å…è®¸åŒä¸€ä¸ªæ–‡ä»¶å£°æ˜å¤šä¸ª `class` å’Œ top-level çš„å‡½æ•°å’Œå±æ€§ï¼Œæ‰€ä»¥ Kotlin ä¸­å…è®¸ç±»å’Œæ¥å£å£°æ˜ä¸º `private`ï¼Œå› ä¸ºåŒä¸ªæ–‡ä»¶ä¸­çš„å…¶å®ƒæˆå‘˜å¯ä»¥è®¿é—®ï¼š

            ```kotlin
            ğŸï¸                   
            private class Sample {
                val number = 1
                fun method() {
                    println("Sample method()")
                }
            }
                        // ğŸ‘‡ åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥å¯ä»¥è®¿é—®
            val sample = Sample()
            ```

3.  `protected`

    - Java ä¸­ `protected` è¡¨ç¤ºåŒ…å†…å¯è§ + å­ç±»å¯è§ã€‚

    - Kotlin ä¸­ `protected` è¡¨ç¤º `private` + å­ç±»å¯è§ã€‚

        Kotlin ç›¸æ¯” Java `protected` çš„å¯è§èŒƒå›´æ”¶çª„äº†ï¼ŒåŸå› æ˜¯ Kotlin ä¸­ä¸å†æœ‰ã€ŒåŒ…å†…å¯è§ã€çš„æ¦‚å¿µäº†ï¼Œç›¸æ¯” Java çš„å¯è§æ€§ç€çœ¼äº `package`ï¼ŒKotlin æ›´å…³å¿ƒçš„æ˜¯ moduleã€‚

4.  `internal`

    åœ¨ Android çš„å®˜æ–¹ sdk ä¸­ï¼Œæœ‰ä¸€äº›æ–¹æ³•åªæƒ³å¯¹ sdk å†…å¯è§ï¼Œä¸æƒ³å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ï¼ˆå› ä¸ºè¿™äº›æ–¹æ³•ä¸å¤ªç¨³å®šï¼Œåœ¨åç»­ç‰ˆæœ¬ä¸­å¾ˆæœ‰å¯èƒ½ä¼šä¿®æ”¹æˆ–åˆ æ‰ï¼‰ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç‰¹æ€§ï¼Œä¼šåœ¨æ–¹æ³•çš„æ³¨é‡Šä¸­æ·»åŠ ä¸€ä¸ª Javadoc æ–¹æ³• `@hide`ï¼Œç”¨æ¥é™åˆ¶å®¢æˆ·ç«¯è®¿é—®ï¼š

    ```java
    â˜•ï¸
    /**
    * @hide ğŸ‘ˆ
    */
    public void hideMethod() {
        ...
    }
    ```

    ä½†è¿™ç§é™åˆ¶ä¸å¤ªä¸¥æ ¼ï¼Œå¯ä»¥é€šè¿‡åå°„è®¿é—®åˆ°é™åˆ¶çš„æ–¹æ³•ã€‚é’ˆå¯¹è¿™ä¸ªæƒ…å†µï¼ŒKotlin å¼•è¿›äº†ä¸€ä¸ªæ›´ä¸ºä¸¥æ ¼çš„å¯è§æ€§ä¿®é¥°ç¬¦ï¼š`internal`ã€‚

    

    `internal` è¡¨ç¤ºä¿®é¥°çš„ç±»ã€å‡½æ•°ä»…å¯¹ module å†…å¯è§ï¼Œè¿™é‡Œçš„ module å…·ä½“æŒ‡çš„æ˜¯ä¸€ç»„å…±åŒç¼–è¯‘çš„ kotlin æ–‡ä»¶ï¼Œå¸¸è§çš„å½¢å¼æœ‰ï¼š

    - Android Studio é‡Œçš„ module
    - Maven project

    > æˆ‘ä»¬å¸¸è§çš„æ˜¯ Android Studio ä¸­çš„ module è¿™ç§æƒ…å†µï¼ŒMaven project ä»…ä½œäº†è§£å°±å¥½ï¼Œä¸ç”¨ç»†ç©¶ã€‚

    `internal` åœ¨å†™ä¸€ä¸ª library module æ—¶éå¸¸æœ‰ç”¨ï¼Œå½“éœ€è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°ä»…å¼€æ”¾ç»™ module å†…éƒ¨ä½¿ç”¨ï¼Œä¸æƒ³å¯¹ library çš„ä½¿ç”¨è€…å¯è§ï¼Œè¿™æ—¶å°±åº”è¯¥ç”¨ `internal` å¯è§æ€§ä¿®é¥°ç¬¦ã€‚